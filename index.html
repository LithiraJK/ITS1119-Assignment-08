<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" type="image/png" href="/assets/images/title-logo.png">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-black px-3">
          <div class="container-fluid">
            <div class="d-flex align-items-center gap-2">
                <img src="/assets/images/logo.png" alt="logo" class="img-fluid" style="width: 100px; height: 40px;">
                <a class="navbar-brand m-0" href="#"> / DashBoard</a>
              </div>              
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTabs"
              aria-controls="navbarTabs" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon "></span>
            </button>
      
            <div class="collapse navbar-collapse" id="navbarTabs">
              <ul class="navbar-nav ms-auto nav nav-pills" id="pills-tab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
                    type="button" role="tab" aria-controls="pills-home" aria-selected="true">Home</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-customer-tab" data-bs-toggle="pill" data-bs-target="#pills-customer"
                    type="button" role="tab" aria-controls="pills-customer" aria-selected="false">Customer</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-item-tab" data-bs-toggle="pill" data-bs-target="#pills-item"
                    type="button" role="tab" aria-controls="pills-item" aria-selected="false">Item</button>
                </li>
                <li class="nav-item" role="presentation">
                  <button class="nav-link" id="pills-orders-tab" data-bs-toggle="pill" data-bs-target="#pills-orders"
                    type="button" role="tab" aria-controls="pills-orders" aria-selected="false">Orders</button>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </header>
      

    <main class="tab-content" id="pills-tabContent">
      <section class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
        <div class="container-fluid">
          <div class="d-flex justify-content-between align-items-center my-3">
            <div>
              <h1 class="mb-0 display-4 fw-bold">Today</h1>
              <span>Wed Mar 26 | 05:23 AM</span>
            </div>
            <button class="btn btn-dark" id="refreshDashboard"><i class="fas fa-sync-alt"></i></button>
          </div>
          
          <div class="row g-3">
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card p-4 mb-3 shadow">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <i class="fas fa-dollar-sign fa-2x text-success me-3"></i>
                    <div>
                      <h5 class="card-title mb-0 fw-bold">Total Sales</h5>
                      <p class="card-text fs-4" id="totalSalesMetric">$0.00</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card p-4 mb-3 shadow">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <i class="fas fa-shopping-cart fa-2x text-primary me-3"></i>
                    <div>
                      <h5 class="card-title mb-0 fw-bold">Total Orders</h5>
                      <p class="card-text fs-4" id="totalOrdersMetric">0</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card p-4 mb-3 shadow">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <i class="fas fa-users fa-2x text-info me-3"></i>
                    <div>
                      <h5 class="card-title mb-0 fw-bold">All Customers</h5>
                      <p class="card-text fs-4" id="allCustomersMetric">0</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="col-12 col-md-6 col-lg-3">
              <div class="card p-4 mb-3 shadow">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <i class="fas fa-box-open fa-2x text-warning me-3"></i>
                    <div>
                      <h5 class="card-title mb-0 fw-bold">Inventory</h5>
                      <p class="card-text fs-4" id="inventoryMetric">Loading...</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          
        </div>
      </section>
      
      

            <section class="tab-pane fade" id="pills-customer" role="tabpanel" aria-labelledby="pills-customer-tab">
                <div class="row p-4">
                    <div id="alertContainer"></div>
                  <!-- customer form -->
                  <div class="col-md-5">
                    <h3 class="mb-4">Customer Registration</h3>
                    <form id="registrationForm" novalidate>

                      <div class="mb-3">
                        <label for="customerId" class="form-label">Customer ID</label>
                        <input type="text" id="customerId" name="customerId" class="form-control" placeholder="C00-001" required>
                        <span class="form-text text-danger" id="customerIdError"></span>
                      </div>
                      <div class="mb-3">
                        <label for="customerName" class="form-label">Customer Name</label>
                        <input type="text" id="customerName" name="customerName" class="form-control" placeholder="John Doe" required>
                        <span class="form-text text-danger" id="customerNameError"></span>
                      </div>
                      <div class="mb-3">
                        <label for="customerAddress" class="form-label">Customer Address</label>
                        <input type="text" id="customerAddress" name="customerAddress" class="form-control" placeholder="123, Main Street" required>
                        <span class="form-text text-danger" id="customerAddressError"></span>
                      </div>
                      <div class="mb-3">
                        <label for="customerSalary" class="form-label">Customer Salary</label>
                        <input type="number" id="customerSalary" name="customerSalary" class="form-control" placeholder="50000.00" required>
                        <span class="form-text text-danger" id="customerSalaryError"></span>
                      </div>
                      <div class="btn-container d-flex justify-content-between">
                        <button type="submit" id="btnSaveCustomer" class="btn btn-primary bg-dark border-dark" disabled>Save Customer</button>
                        <button type="button" id="btnUpdateCustomer" class="btn btn-primary bg-dark border-dark">Update</button>
                        <button type="reset" id="btnRestForm" class="btn btn-danger">Clear All</button>
                      </div>
                    </form>
                  </div>
              
                  <div class="col-md-7">
                    <div class="mb-3">
                      <div class="input-group">
                        <div class="form-outline flex-fill">
                          <input type="search" id="form1" class="form-control" placeholder="Search customer by ID" />
                        </div>
                        <button type="button"  id="searchButton" class="btn btn-primary bg-dark border-dark" data-db-ripple-init>
                          <i class="fas fa-search"></i>
                        </button>
                      </div>
                    </div>
                  
                    <!-- Customer Table -->
                    <div class="table-responsive">
                      <table class="table table-bordered table-light table-hover" id="customerTable">
                        <thead class="table-dark">
                          <tr>
                            <th class="w-25">Customer ID</th>
                            <th class="w-25">Name</th>
                            <th class="w-25">Address</th>
                            <th class="w-25">Salary</th>
                          </tr>
                        </thead>
                        <tbody id="customerTableBody">
                        </tbody>
                      </table>
                    </div>
                  </div>
                  
                </div>
              </section>
              
              
              <section class="tab-pane fade" id="pills-item" role="tabpanel" aria-labelledby="pills-item-tab">
                <div class="row p-4">
                  <div id="itemAlertContainer"></div>
              
                  <!-- item form -->
                  <div class="col-md-5">
                    <h3 class="mb-4">Item Registration</h3>
                    <form id="itemForm" novalidate>
              
                      <div class="mb-3">
                        <label for="itemCode" class="form-label">Item Code</label>
                        <input type="text" id="itemCode" name="itemCode" class="form-control" placeholder="I00-001" required>
                        <span class="form-text text-danger" id="itemCodeError"></span>
                      </div>
              
                      <div class="mb-3">
                        <label for="itemName" class="form-label">Item Name</label>
                        <input type="text" id="itemName" name="itemName" class="form-control" placeholder="Keeri Samba 5KG" required>
                        <span class="form-text text-danger" id="itemNameError"></span>
                      </div>
              
                      <div class="mb-3">
                        <label for="itemQty" class="form-label">Quantity</label>
                        <input type="number" id="itemQty" name="itemQty" class="form-control" placeholder="100" required>
                        <span class="form-text text-danger" id="itemQtyError"></span>
                      </div>
              
                      <div class="mb-3">
                        <label for="itemPrice" class="form-label">Unit Price (Rs.)</label>
                        <input type="number" id="itemPrice" name="itemPrice" class="form-control" placeholder="1200.00" required>
                        <span class="form-text text-danger" id="itemPriceError"></span>
                      </div>
              
                      <div class="btn-container d-flex justify-content-between">
                        <button type="submit" id="btnSaveItem" class="btn btn-primary bg-dark border-dark" disabled>Save Item</button>
                        <button type="button" id="btnUpdateItem" class="btn btn-primary bg-dark border-dark">Update</button>
                        <button type="reset" id="btnResetItemForm" class="btn btn-danger">Clear All</button>
                      </div>
                    </form>
                  </div>
              
                  <div class="col-md-7">
                    <!-- Search Bar -->
                    <div class="mb-3">
                      <div class="input-group">
                        <div class="form-outline flex-fill">
                          <input type="search" id="itemSearchInput" class="form-control" placeholder="Search item by Code" />
                        </div>
                        <button type="button" id="itemSearchButton" class="btn btn-primary bg-dark border-dark">
                          <i class="fas fa-search"></i>
                        </button>
                      </div>
                    </div>
              
                    <!-- Item Table -->
                    <div class="table-responsive">
                      <table class="table table-bordered table-light table-hover" id="itemTable">
                        <thead class="table-dark">
                          <tr>
                            <th class="w-25">Item Code</th>
                            <th class="w-25">Name</th>
                            <th class="w-25">Qty</th>
                            <th class="w-25">Unit Price</th>
                          </tr>
                        </thead>
                        <tbody id="itemTableBody">
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </section>
              
        <!-- Orders Section  -->
        <section class="tab-pane fade" id="pills-orders" role="tabpanel" aria-labelledby="pills-orders-tab">
            <div class="container py-4">
              <!-- Place Order Card -->
              <div class="card shadow-sm mb-4">
                <div class="card-header bg-black text-white">
                  <h3 class="mb-0">
                    <i class="fas fa-shopping-cart"></i> Place Order
                  </h3>
                </div>
                <div class="card-body">
                  <form id="orderForm" novalidate>
                    <div class="row mb-3">
                      <div class="col-md-6">
                        <label for="orderId" class="form-label">Order ID</label>
                        <input type="text" id="orderId" name="orderId" class="form-control" placeholder="OID-001" readonly>
                        <div class="invalid-feedback" id="orderIdError"></div>
                      </div>
                      <div class="col-md-6">
                        <label for="o_inputOrderDate" class="form-label">Order Date</label>
                        <input type="date" id="o_inputOrderDate" name="o_inputOrderDate" class="form-control">
                      </div>
                    </div>
                    <div class="row mb-3">
                      <div class="col-md-4">
                        <label for="orderCustomerId" class="form-label">Customer ID</label>
                        <select class="form-select" id="orderCustomerId">
                          <option value="">Select Customer</option>
                          <option value="C00-001">C00-001</option>
                          <option value="C00-002">C00-002</option>
                          <option value="C00-003">C00-003</option>
                        </select>
                        <div class="invalid-feedback" id="orderCustomerIdError"></div>
                      </div>
                      <div class="col-md-4">
                        <label for="orderCustomerName" class="form-label">Customer Name</label>
                        <input type="text" id="orderCustomerName" name="orderCustomerName" class="form-control" placeholder="Customer Name" readonly>
                      </div>
                      <div class="col-md-4">
                        <label for="orderCustomerAddress" class="form-label">Customer Address</label>
                        <input type="text" id="orderCustomerAddress" name="orderCustomerAddress" class="form-control" placeholder="Customer Address" readonly>
                      </div>
                    </div>
                    <hr>
                    <div class="row mb-3 align-items-end">
                      <div class="col-md-4">
                        <label for="orderItemCode" class="form-label">Item Code</label>
                        <select class="form-select" id="orderItemCode">
                          <option value="">Select Item</option>
                          <option value="I00-001">I00-001</option>
                          <option value="I00-002">I00-002</option>
                          <option value="I00-003">I00-003</option>
                        </select>
                        <div class="invalid-feedback" id="orderItemCodeError"></div>
                      </div>
                      <div class="col-md-4">
                        <label for="orderItemName" class="form-label">Item Name</label>
                        <input type="text" id="orderItemName" name="orderItemName" class="form-control" placeholder="Item Name" readonly>
                      </div>
                      <div class="col-md-2">
                        <label for="orderItemQty" class="form-label">Available Qty</label>
                        <input type="number" id="orderItemQty" name="orderItemQty" class="form-control" placeholder="Qty" readonly>
                      </div>
                      <div class="col-md-2">
                        <label for="orderItemPrice" class="form-label">Unit Price</label>
                        <input type="number" id="orderItemPrice" name="orderItemPrice" class="form-control" placeholder="Price" readonly>
                      </div>
                    </div>
                    <div class="row mb-3 align-items-end">
                      <div class="col-md-4">
                        <label for="orderQty" class="form-label">Ordered Qty</label>
                        <input type="number" id="orderQty" name="orderQty" class="form-control" placeholder="Enter Qty" required>
                          <span class="form-text text-danger" id="itemQtyError"></span>
                      </div>
                      <div class="col-md-2">
                        <button type="button" id="btnAddToCart" class="btn btn-warning w-100 mt-4">
                          <i class="fas fa-cart-plus"></i> Add to Cart
                        </button>
                      </div>
                    </div>
                  </form>
                  <div class="table-responsive">
                    <table class="table table-bordered table-hover" id="orderCart">
                      <thead class="table-dark">
                        <tr>
                          <th>Item Code</th>
                          <th>Item Name</th>
                          <th>Unit Price</th>
                          <th>Ordered Qty</th>
                          <th>Total</th>
                        </tr>
                      </thead>
                      <tbody>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="card-footer">
                    <div class="row">
                      <div class="col-md-6">
                        <ul class="list-group list-group-flush">
                          <li class="list-group-item d-flex justify-content-between align-items-center">
                            Sub Total:
                            <span id="subTotalPrice" class="fw-bold">0.00</span>
                          </li>
                          <li class="list-group-item d-flex justify-content-between align-items-center ">
                            Discount:
                            <span id="discountAmount" class="fw-bold">0.00</span>
                          </li>
                          <li class="list-group-item d-flex justify-content-between align-items-center h1">
                            Total:
                            <span id="totalPrice" class="fw-bold">0.00</span>
                          </li>
                        </ul>
                      </div>

                      <div class="col-md-6">
                        <div class="mb-2">
                          <label for="discountInput" class="form-label">Discount (%)</label>
                          <input type="number" id="discountInput" class="form-control" placeholder="Enter discount">
                          <span class="form-text text-danger" id="discountError"></span>
                        </div>
                        <div class="mb-2">
                          <label for="cashInput" class="form-label">Cash</label>
                          <input type="number" id="cashInput" class="form-control" placeholder="Enter cash amount">
                          <span class="form-text text-danger" id="cashError"></span>

                        </div>
                        <div class="mb-2">
                          <label for="balanceInput" class="form-label">Balance</label>
                          <input type="text" id="balanceInput" class="form-control" placeholder="0.00" readonly>
                        </div>
                        <div class="text-end mt-2">
                          <button type="button" id="btnPlaceOrder" class="btn btn-success btn-lg">
                            <i class="fas fa-check-circle"></i> Place Order
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  
              </div>
          
              <div class="container my-4">
                <div class="card shadow-sm">
                  <div class="card-header bg-black text-white">
                    <h4 class="mb-0">
                      <i class="fas fa-search"></i> Order Details
                    </h4>
                  </div>
                  <div class="card-body">
                <div class="input-group mb-3">
                  <input type="search" id="orderSearchInput" class="form-control" placeholder="Search Order Details by Order ID" aria-label="Search Order Details">
                  <button class="btn btn-outline-dark px-5" type="button" id="orderSearchButton">
                    <i class="fas fa-search"></i>
                  </button>
                </div>

            
                    <div id="ordersList">
                      
                    </div>
            
                  </div>
                </div>
              </div>
            </div>
          </section>
          
          
    </main>
    <footer class="footer">
      <div class="container-fluid bg-dark text-white text-center py-3">
        <span>&copy; All Rights Reserved | Lithira Jayanaka</span>
      </div>
    </footer>
    
      

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="controller/DashBoardController.js"></script>
    
    <script src="/db/DB.js"></script>
    <script src="/controller/validations/CustomerValidations.js"></script>
    <script src="/model/Customer.js"></script>
    <script src="/controller/CustomerController.js"></script>

    <script src="/controller/validations/ItemValidations.js"></script>
    <script src="/model/Item.js"></script>
    <script src="/controller/ItemController.js"></script>

    <script src="/controller/validations/OrderValidations.js" ></script>
    <script src="/model/Orders.js" ></script>
    <script src="/controller/OrdersController.js"></script>


</body>
</html>